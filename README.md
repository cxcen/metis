# Metis DEX 聚合路由器

一个受 Jupiter v3 方法启发的 **Metis 路由算法**的 Rust 实现，用于在 Solana 上的多个 DEX 平台之间优化代币交换。

## 概述

Metis 是专为 DEX 聚合设计的 Bellman-Ford 算法的重大改进版本，具有以下关键改进：

- **价值最大化**：寻找最大化输出代币而非最小化路径长度的路由
- **流动性约束**：考虑实时流动性和交易规模限制
- **分割路由**：支持跨多个 DEX 分割交易以获得更好的执行
- **价格影响建模**：计算并优化价格影响
- **实时报价**：与 DEX API 集成以获取实时价格
- **性能优化**：早期终止和剪枝以实现快速执行



## 核心组件

1. **`RoutingGraph`** - 具有增强 Bellman-Ford 算法的图表示
2. **`MetisRouter`** - 协调路由过程的主要路由器
3. **`QuoteService`** - 带缓存的实时报价获取
4. **`MathUtils`** - 计算的数学工具
5. **`FormatUtils`** - 输出格式化和显示
6. **`ValidationUtils`** - 输入验证和错误处理

## 关键数据结构

- **`Token`** - 具有符号、地址和小数位的代币表示
- **`Edge`** - 具有流动性约束和汇率的交易对
- **`Route`** - 从输入到输出代币的完整路径
- **`SplitRoute`** - 用于最优执行的多条路由
- **`PathSegment`** - 路由中的单个跳转



**注意**：这是一个演示实现。对于生产使用，请集成真实的 DEX API 并添加全面的错误处理和安全措施。 